---
import BaseLayout from '../layouts/BaseLayout.astro';
import ExperienceItem from '../components/ExperienceItem.astro';
import experiences from '../data/experiences.json';

const workExperiences = experiences.filter((exp: any) => exp.type === 'work');
const educationExperiences = experiences.filter((exp: any) => exp.type === 'education');
---

<BaseLayout pageTitle="Experience" description="My work experience and education history.">
  <div class="page-header">
    <h1>Experience</h1>
    <p>My professional journey and educational background.</p>
  </div>

  <section class="experience-section">
    <h2 class="section-title">Work Experience</h2>
    <div class="timeline">
      {workExperiences.map((exp: any) => (
        <ExperienceItem
          title={exp.title}
          company={exp.company}
          type={exp.type}
          startDate={exp.startDate}
          endDate={exp.endDate}
          description={exp.description}
          bullets={exp.bullets}
          tags={exp.tags}
        />
      ))}
    </div>
  </section>

  <section class="experience-section">
    <h2 class="section-title">Education</h2>
    <div class="timeline">
      {educationExperiences.map((exp: any) => (
        <ExperienceItem
          title={exp.title}
          company={exp.company}
          type={exp.type}
          startDate={exp.startDate}
          endDate={exp.endDate}
          description={exp.description}
          bullets={exp.bullets}
          tags={exp.tags}
        />
      ))}
    </div>
  </section>
</BaseLayout>

<style>
  .experience-section {
    margin-bottom: 3rem;
  }

  .section-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--accent);
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border-color, #2d3748);
  }
</style>
